<div class="form-container">
  <h2>Novo lançamento</h2>

  <mat-button-toggle-group class="button-toggle-group" [(ngModel)]="tipoLancamento" name="tipoLancamento" aria-label="Tipo de lançamento">
    <mat-button-toggle value="receita">Receita</mat-button-toggle>
    <mat-button-toggle value="despesa">Despesa</mat-button-toggle>
  </mat-button-toggle-group>

  <form [formGroup]="form">
    <div class="row">
      <mat-form-field appearance="outline" class="campo45">
        <mat-label>Vencimento</mat-label>
        <input matInput [matDatepicker]="vencimentoPicker" formControlName="vencimento">
        <mat-datepicker-toggle matSuffix [for]="vencimentoPicker"></mat-datepicker-toggle>
        <mat-datepicker #vencimentoPicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="campo45">
        <mat-label>Recebimento</mat-label>
        <input matInput [matDatepicker]="recebimentoPicker" formControlName="recebimento">
        <mat-datepicker-toggle matSuffix [for]="recebimentoPicker"></mat-datepicker-toggle>
        <mat-datepicker #recebimentoPicker></mat-datepicker>
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Descrição</mat-label>
        <input matInput formControlName="descricao">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Valor</mat-label>
        <input matInput
         formControlName="valor"
         type="text"
         mask="separator.2"
         thousandSeparator="."
         decimalMarker=","
         prefix="R$ " />
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field appearance="outline" class="campo45">
        <mat-label>Categoria</mat-label>
        <mat-select formControlName="categoria">
          @for (categoria of categorias; track categoria;) {
            <mat-option [value]="categoria">{{ categoria }}</mat-option>
          }
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" class="campo45">
        <mat-label>Pessoa</mat-label>
        <mat-select formControlName="pessoa">
          @for (pessoa of pessoas; track pessoa;) {
            <mat-option [value]="pessoa">{{ pessoa }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Observação</mat-label>
        <textarea matInput formControlName="observacao"></textarea>
      </mat-form-field>
    </div>

    <div class="buttons">
      <button mat-raised-button color="primary" (click)="salvar()">Salvar</button>
      <button mat-stroked-button color="accent" (click)="novo()">Novo</button>
      <a mat-button routerLink="/lancamentos">Voltar para a pesquisa</a>
    </div>
  </form>
</div>
